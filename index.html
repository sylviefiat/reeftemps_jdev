<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Presentation Reeftemps</title>
    <link href="css/impress.css" rel="stylesheet"/>
    <link href="css/font-awesome.css" rel="stylesheet"/>
    <link href="css/styles.css" rel="stylesheet"/>
    <link href="css/monokai.css" rel="stylesheet"/>
    <link href="css/ol.css" rel="stylesheet" />
    <script src="js/ol.js" type="text/javascript"></script>
</head>
<body onload="init();">
<div id="bg"></div>
<div id="impress">
   
    <!-- our slides will go here -->
    <div class="fallback-message">
        <p>Your browser doesn't support the features required by impress.js, so you
            are presented with a simplified version of this presentation.</p>
        <p>For the best experience please use the latest Chrome, Safari, or Firefox 10.</p>
    </div>

    <section id="title" class="step logo" data-x="3500" data-y="2100" data-scale="6">
		<h1>Docker en production</h1>
		<h2>Exemple d’une application de valorisation de données issues de capteurs</h2>
		<p>Sylvie Fiat - IRD - GOPS</p>
	    <img src="img/ird2.png" alt="logo" width="32%"></img>
        <img src="img/gops.png" alt="logo" width="28%"></img>
    </section>
    
    <section class="step slide" data-x="1800" data-y="5000" data-z="-3000" data-scale="2">
		<h1>REEFTEMPS</h1>
		<blockquote>Réseau de capteurs de température, pression, salinité dans le domaine côtier du Pacifique Sud, Ouest et Sud Ouest</blockquote>

		<img src="img/thermo2.jpg" width="49%"/>
		<img src="img/thermo1.jpg" width="49%"/>

		<p style="font-size:smaller;"><br/>
        Coordinateur réseau: <b>Bernard Pelletier</b> - Chef de projet SI: <b>Régis Hocdé</b> – Responsable exploitation SI: <b>Sylvie Fiat</b> -
Responsable données: <b>David Varillon</b> 
& Equipe projet : <b>Jacques Grelet, Adrien Cheype, Guillaume Brissebrat, Andry Andriatiana & Collaborateurs prestataires</b></p>
    </section>

    <section class="step" data-x="1500" data-y="5300" data-z="-4000" data-scale="1">
    	<img src="img/thermo2.jpg" width="100%"/>
    </section>
    
    <section class="step" data-x="2300" data-y="5300" data-z="-4000" data-scale="1">
    	<img src="img/thermo1.jpg" width="100%"/>
    </section>

    <section class="step" data-x="4300" data-y="5300" data-z="-4000" data-scale="1">
    	<img src="img/result.jpg" width="100%"/>
    	<p style="font-size: small;">Guyennon, 2010</p>
    </section>

    <section class="step computer style1" data-x="3800" data-y="5000" data-z="-3000" data-scale="2">        
		<div id="containerGraph" style="width: 100%; height: 700px;"></div>
		<p>Bientôt 50 années de mesures...</p>
    </section>

    <section class="step computer style1" data-x="5800" data-y="5000" data-z="-3000" data-scale="2">        
		<div id="containerMap">
			<div id="map" style="width: 100%; height: 700px;">				
			</div>
			<p>Et en permanence plus de 70 capteurs en cours d'utilisation...</p>			
		</div>
    </section>


    <section class="step slide" data-x="3460" data-y="4200" data-scale="2">
    	<h1>Ce qui nous intéresse aujourd'hui</h1>
    	<blockquote>Portage de l'application de gestion associée, multi-composants, sous docker</blockquote>
    	<img src="img/soa.jpg" width="100%"/>
    </section>

    <section class="step slide" data-x="3500" data-y="100" data-scale="2">
    	<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">1</i>
				</span>  Analyse de la structure
    	</h1>
    	<img src="img/arch2012.png" width="100%"/>
    </section>

    <section class="step slide" data-x="2000" data-y="-1000" data-z="0" data-scale="2">
    	<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">2</i>
				</span>  Préparer les évolutions
    	</h1>
    	<img src="img/arch2016.png" width="100%"/>
    </section> 

    <section class="step slide" data-x="3500" data-y="100" z-index="-100" data-scale="1">
    	<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">3</i>
				</span>  Décomposer les briques logiques
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-database"></i>  - Base de données - <span class="ex1">SQL</span> - <span class="ex2">Postgres/Postgis</span></li>
    		<li><i class="fa fa-edit"></i>  - Application de gestion - <span class="ex2">Java/Tomcat</span></li>
    		<li><i class="fa fa-th"></i> - Serveur de données grillées Thredds - <span class="ex1">OpenDAP</span> - <span class="ex2">Java/Tomcat</span></li>
    		<li><i class="fa fa-globe"></i>  - Serveur de données géographique Geoserver - <span class="ex1">WMS, WFS</span> - <span class="ex2">Java/Tomcat</span></li>
    		<li><i class="fa fa-cog"></i> - Serveur de données de capteurs 52°North - <span class="ex1">SOS</span> - <span class="ex2">Java/Tomcat</span></li>
    		<li><i class="fa fa-list"></i> - Catalogue de métadonnées GeoNetwork - <span class="ex1">CSW</span> - <span class="ex2">Java/Tomcat</span></li>
    		<li><i class="fa fa-picture-o"></i> - Service web python - <span class="ex1">CSW, PNG/JPG</span> - <span class="ex2">Python/Webpy</span></li>
    		<li><i class="fa fa-desktop"></i> - Portail web <span class="ex2">HTML5/CSS/Javascript</span></li>
    	</ul>
    </section>

    <section class="step slide" data-x="4500" data-y="0" data-scale="2">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker
    	</h1>
    	<img src="img/what_is_docker.png" width="100%"/>
    </section>

    <section class="step slide" data-x="4500" data-y="-1000" data-z="-100" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker - RAPPEL
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-check"></i> <span class="ex2">Un</span> container <span class="ex2">par</span> brique logique</li>
    		<li><i class="fa fa-check"></i> Privilégier les images <span class="ex2">officielles</span></li>
    		<li><i class="fa fa-check"></i> Vérifier le Dockerfile</li>
    		<li><i class="fa fa-check"></i>  Eviter les images sans github associé</li>
    		<li><i class="fa fa-check"></i> Préférer une image <span class="ex2">légère</span></li>
    		<li><i class="fa fa-check"></i>  <span class="ex2">Plébiscitée</span>: beaucoup de stars/downloads/forks dans Dockerhub et Github</li>
    		<li><i class="fa fa-check"></i> <span class="ex2">Maintenue</span> : voir les dates de dernière mise à jour, l'état des tickets</li>
    		<li style="padding-top:40px;text-align:center;"><span class="ex2"><i class="fa fa-exclamation"></i> Vérifier que vos spécifications sont bien vérifiées !</span></li>
    	</ul>
    </section>

    <section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-database"></i>  - Base de données <span class="ex2">Postgres/Postgis</span> + ssh
    	</li></ul>
    	<div style="width:48%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;float:left;"> 
			<pre>
<i>Dockerfile</i><code class="docker hljs dockerfile"><span class="hljs-comment"># Pas d'image officielle de Postgres 
# avec Postgis implémenté</span>
<span class="hljs-keyword">FROM</span> mdillon/postgis:<span class="hljs-number">9.5</span>					
<span class="hljs-keyword">MAINTAINER</span> GOPS
<span class="hljs-keyword">ARG</span> UNIX_USER
<span class="hljs-keyword">ARG</span> UNIX_PASSWORD
<span class="hljs-keyword">ADD</span> init-ssh.sh /init-ssh-service.sh
<span class="hljs-comment"># Installation de OpenSSH</span>
<span class="hljs-keyword">RUN</span> apt-get update &amp; \
	apt-get install -y openssh-server
<span class="hljs-keyword">RUN</span> chmod 755 /init-ssh-service.sh
<span class="hljs-keyword">ENTRYPOINT</span> ./init-ssh-service.sh ; &\
    ./docker-entrypoint.sh postgres
				</code>
			</pre>
		</div>
		<div style="width:48%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;float:right;"> 
			<pre>
<i>docker-compose.yml</i><code class="docker hljs yaml"><span class="hljs-comment"># PostgreSQL Postgis database</span>
<span class="hljs-keyword">sitecpsodb</span>:
  <span class="hljs-keyword">hostname</span>: <span class="hljs-envvar">sitecpsodb</span>
  <span class="hljs-keyword">image</span>: <span class="hljs-envvar">reeftemps/postgres_ssh</span>
  <span class="hljs-keyword">environment</span>:
    - <span class="hljs-envvar">POSTGRES_USER=docker</span>
    - <span class="hljs-envvar">POSTGRES_PASSWORD=docker</span>
    - <span class="hljs-envvar">POSTGRES_DB=database</span>
</code>
		</pre>
	</div>			
    </section>
    <section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-edit"></i>  - Application de gestion - <span class="ex2">Java/Tomcat</span> + ssh + data volume
    	</ul>
    	<div style="width:48%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;float:left;">

    	<pre>
<i>Dockerfile</i><code class="docker hljs dockerfile"><span class="hljs-comment"># Image Tomcat officielle</span>
<span class="hljs-comment"># Surcharge SSH</span>	
<span class="hljs-keyword">FROM</span> tomcat:<span class="hljs-number">8.0-jre8</span>					
<span class="hljs-keyword">MAINTAINER</span> GOPS

<span class="hljs-comment"># Installation de OpenSSH</span>
<span class="hljs-keyword">RUN</span> apt-get update &amp; \
	apt-get install -y openssh-server
<span class="hljs-comment"># Expose port 80</span>
<span class="hljs-keyword">EXPOSE</span> 80
				</code>
			</pre>
    	</div>
    	<div style="width:48%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;float:right;"> 
			<pre>
<i>docker-compose.yml</i><code class="docker hljs yaml"><span class="hljs-comment"># Application de gestion des données</span>
<span class="hljs-keyword">sitecpsoweb</span>:
  <span class="hljs-keyword">hostname</span>: <span class="hljs-envvar">sitecpsoweb</span>
  <span class="hljs-keyword">image</span>: <span class="hljs-envvar">reeftemps/tomcat_ssh</span>
  <span class="hljs-comment"># Montage d'un data volume pour les données à plat</span>
  <span class="hljs-keyword">volumes</span>:
    - <span class="hljs-envvar">./data:/dboceano/data</span>
    - <span class="hljs-envvar">./log:/dboceano/log</span>
  <span class="hljs-keyword">environment</span>:
    - <span class="hljs-envvar">CATALINA_OPTS=-Xmx4096m -Xms2048m -XX:SoftRefLRUPolicyMSPerMB=1 -XX:MaxPermSize=2048m -XX:-UseGCOverheadLimit -Djava.awt.headless=true</span>
    - <span class="hljs-envvar">POSTGRES_PASSWORD=docker</span>
    - <span class="hljs-envvar">POSTGRES_DB=database</span>
  <span class="hljs-keyword">links</span>:
    - <span class="hljs-envvar">sitecpsodb:sitecpsodb</span>
</code>
		</pre>
	</div>		
    </section>
    <section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-th"></i> - Serveur de données grillées Thredds - <span class="ex2">Java/Tomcat</span>
    			</ul>
    		</li>
    	</ul>
    	<div style="width:100%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;"> 
			<pre>
<i>docker-compose.yml</i><code class="docker hljs yaml"><span class="hljs-comment"># Serveur de données grillées THREDDS</span>
<span class="hljs-keyword">sitecpsodap</span>:
  <span class="hljs-keyword">hostname</span>: <span class="hljs-envvar">sitecpsodap</span>
  <span class="hljs-comment"># L'éditeur fourni une image Docker</span>
  <span class="hljs-keyword">image</span>: <span class="hljs-envvar">axiom/docker-thredds:4.6.6</span>
  <span class="hljs-keyword">volumes</span>:
    - <span class="hljs-envvar">./data:/dboceano/data</span>
    - <span class="hljs-envvar">./log:/thredds/log</span>
</code>
		</pre>
	</div>
    </section>
    <section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-globe"></i>  - Serveur de données géographique Geoserver - <span class="ex2">Java/Tomcat</span>
    	</ul>
    	<div style="width:48%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;float:left;">

    	<pre>
<i>Dockerfile</i><code class="docker hljs dockerfile"><span class="hljs-comment"># Image Tomcat officielle</span>
<span class="hljs-comment"># Surcharge SSH</span>	
<span class="hljs-keyword">FROM</span> tomcat:<span class="hljs-number">8.0-jre8</span>					
<span class="hljs-keyword">MAINTAINER</span> GOPS

<span class="hljs-keyword">ENV</span> GEOSERVER_VERSION 2.9.1
<span class="hljs-comment"># Installation de la librairie jai</span>
<span class="hljs-keyword">RUN</span> wget and install jai libs
<span class="hljs-comment"># Installation de Geoserver</span>
<span class="hljs-keyword">RUN</span> wget and install geoserver
<span class="hljs-comment"># Installation de CorsFilter</span>
<span class="hljs-keyword">RUN</span> chmod +x enable-cors.sh && ./enable-cors.sh
<span class="hljs-keyword">CMS</span> $GEOSERVER_HOME/bin/startup.sh
<span class="hljs-comment"># Expose port 80</span>
<span class="hljs-keyword">EXPOSE</span> 80
				</code>
			</pre>
    	</div>
    	<div style="width:48%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;float:right;"> 
			<pre>
<i>docker-compose.yml</i><code class="docker hljs yaml"><span class="hljs-comment"># Application de gestion des données</span>
<span class="hljs-keyword">sitecpsogeo</span>:
  <span class="hljs-keyword">hostname</span>: <span class="hljs-envvar">sitecpsogeo</span>
  <span class="hljs-keyword">image</span>: <span class="hljs-envvar">reeftemps/docker-geoserver</span>
  <span class="hljs-keyword">links</span>:
    - <span class="hljs-envvar">sitecpsodb:sitecpsodb</span>
</code>
		</pre>
	</div>
    </section>
    <section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-cog"></i> - Serveur de données de capteurs 52°North - <span class="ex2">Java/Tomcat</span>
    		</li>
    	</ul>
    	<div style="width:100%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;"> 
			<pre>
<i>docker-compose.yml</i><code class="docker hljs yaml"><span class="hljs-comment"># SOS Restful 52 North</span>
<span class="hljs-keyword">sitecpsosos</span>:
  <span class="hljs-keyword">hostname</span>: <span class="hljs-envvar">sitecpsosos</span>
  <span class="hljs-comment"># L'éditeur fourni une image Docker</span>
  <span class="hljs-keyword">image</span>: <span class="hljs-envvar">52north/sos:4.3.8</span>
  <span class="hljs-keyword">environment</span>:
    - <span class="hljs-envvar">POSTGRES_DB_USER=docker</span>
    - <span class="hljs-envvar">POSTGRES_DB_PASSWORD=docker</span>
  <span class="hljs-keyword">links</span>:
    - <span class="hljs-envvar">sitecpsodb:sitecpsodb</span>  
</code>
		</pre>
	</div>
    </section>
    <section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-list"></i> - Catalogue de métadonnées GeoNetwork - <span class="ex2">Java/Tomcat</span>
    		</li>
    	</ul>
    	<div style="width:100%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;"> 
			<pre>
<i>docker-compose.yml</i><code class="docker hljs yaml"><span class="hljs-comment"># Geonetwork</span>
<span class="hljs-keyword">sitecpsogndb</span>:
  <span class="hljs-keyword">hostname</span>: <span class="hljs-envvar">sitecpsogndb</span>
  <span class="hljs-keyword">image</span>: <span class="hljs-envvar">geocat/geonetwork:3.2.0-postgres</span>
  <span class="hljs-keyword">environment</span>:
    - <span class="hljs-envvar">POSTGRES_USER=docker</span> 
    - <span class="hljs-envvar">POSTGRES_PASSWORD=docker</span>
    - <span class="hljs-envvar">POSTGRES_DB=geonetwork</span>  
<span class="hljs-keyword">sitecpsogn</span>:
  <span class="hljs-keyword">hostname</span>: <span class="hljs-envvar">sitecpsogn</span>
  <span class="hljs-comment"># L'éditeur fourni une image Docker</span>
  <span class="hljs-keyword">image</span>: <span class="hljs-envvar">geocat/geonetwork:3.2.0-postgres</span>
  <span class="hljs-keyword">links</span>:
    - <span class="hljs-envvar">sitecpsogndb:sitecpsogndb</span>  
</code>
		</pre>
	</div>
    </section>
    <section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-picture-o"></i> - Service web python - <span class="ex2">Python/Webpy</span></li>
    	</ul>
    	<div style="width:48%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;float:left;">

    	<pre>
<i>Dockerfile</i><code class="docker hljs dockerfile"><span class="hljs-comment"># Image Apache docker officielle</span>	
<span class="hljs-keyword">FROM</span> docker.io/httpd				
<span class="hljs-keyword">MAINTAINER</span> GOPS

<span class="hljs-keyword">RUN</span> apt-get update
<span class="hljs-comment"># Installation de Python </span>
<span class="hljs-keyword">RUN</span> apt-get install -y python-dev liba...
<span class="hljs-comment"># Installation de webpy</span>
<span class="hljs-keyword">RUN</span> pip install web.py numpy h5py...
<span class="hljs-comment"># Copy config and python script to be deployed</span>
<span class="hljs-keyword">COPY</span> httpd.conf /apache2/conf/httpd.conf
<span class="hljs-keyword">COPY</span> dap2graph.py dap2csv.py 
  /var/www/webpy-app/
				</code>
			</pre>
    	</div>
    	<div style="width:48%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;float:right;"> 
			<pre>
<i>docker-compose.yml</i><code class="docker hljs yaml"><span class="hljs-comment"># Application de gestion des données</span>
<span class="hljs-keyword">sitecpsopy</span>:
  <span class="hljs-keyword">hostname</span>: <span class="hljs-envvar">sitecpsopy</span>
  <span class="hljs-keyword">image</span>: <span class="hljs-envvar">reeftemps/httpd_python</span>
  <span class="hljs-keyword">volumes</span>:
    - <span class="hljs-envvar">sitecpsodb:sitecpsodb</span>
</code>
		</pre>
	</div>
    </section>
    <section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">4</i>
				</span>  Choisir les images Docker
    	</h1>
    	<hr/>
    	<ul>
    		<li><i class="fa fa-desktop"></i> - Portail web <span class="ex2">Java/Tomcat</span>
    		</li>
    	</ul>
    	<div style="width:100%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;"> 
			<pre>
<i>docker-compose.yml</i><code class="docker hljs yaml"><span class="hljs-comment"># Interface d'affichage des données</span>
<span class="hljs-keyword">sitecpsows</span>:
  <span class="hljs-keyword">hostname</span>: <span class="hljs-envvar">sitecpsows</span>
  <span class="hljs-keyword">image</span>: <span class="hljs-envvar">reeftemps/tomcat_ssh</span>  
</code>
		</pre>
	</div>
    </section>

     <section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">5</i>
				</span>  Configurer tout ça ensemble
    	</h1>
    	<hr/>
    	<img src="img/haproxy.png"/><p>Utilisé comme un revert-proxy</p>
    	<div style="width:100%;height:100%;overflow:auto;font-size:smaller;overflow-y: hidden;"> 
			<pre>
<i>haproxy.cfg</i><code class="docker hljs yaml"><span class="hljs-keyword">global</span>
  <span class="hljs-keyword">log</span> 127.0.0.1
<span class="hljs-keyword">defaults</span>
  <span class="hljs-keyword">mode</span> http
  <span class="hljs-keyword">timeout connect</span> 5000
<span class="hljs-keyword">frontend</span> http-in
  <span class="hljs-keyword">bind</span> *:80
  <span class="hljs-keyword">acl</span> is_geonetwork path_beg -i /geonetwork
  <span class="hljs-keyword">use_backend</span> sitecpsogeo_srv if is_geoserver

<span class="hljs-keyword">backend</span> sitecpsogeo_srv
  <span class="hljs-keyword">server</span> sitecpsogeo_srv sitecpsogeo:8080
</code>
		</pre>
	</div>
    </section>

	<section class="step slide" data-x="4500" data-y="-1000" data-z="-200" data-scale="1">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">6</i>
				</span>  Déployer !
    	</h1>
    	<img src="img/deploy.png" style="margin-left:-400px;" width="200%" />
    </section>

    <section class="step computer" data-x="6000" data-y="00" data-z="0" data-scale="5">
		<h1><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse">7</i>
				</span>  Tester !
    	</h1>
    	<div id="reeftemps"></div>

    </section>

    <section class="step slide" data-x="0" data-y="-1000" data-z="0" data-scale="3">
    	<div style="width:100%;height: 100%;text-align: center;">
		<h1 style="margin-top:30%"><span class="fa-stack fa-lg">
				  <i class="fa fa-circle fa-stack-2x"></i>
				  <i class="fa fa-stack-1x fa-inverse fa-thumbs-up"></i>
				</span>  Merci de votre attention !
    	</h1>
    	</div>
    </section>

    
</div>
<!--div class="hint">
    <p>Utiliser la barre espace ou les flèches pour se déplacer</p>
</div>
<script>
if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Glisser à droite ou à gauche pour se déplacer</p>";
}
</script-->
<script src="lib/impress.js"></script>
<script src="lib/highlight.pack.js"></script>
<script>impress().init();</script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="js/jquery-3.1.1.min.js"></script>
<script src="js/highstock.js"></script>
<script src="js/chart_reeftemps.js"></script>
<script src="js/map_reeftemps.js"></script>
<script src="js/demo_reeftemps.js"></script>
</body>
</html>
